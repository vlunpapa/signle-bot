# ğŸ¤– Telegram é©±åŠ¨å‹å¤šæºé‡ä»·ä¿¡å·æœºå™¨äºº

ä¸€ä¸ªæ”¯æŒKçº¿æ¨¡å¼å’Œé“¾ä¸Šæ¨¡å¼çš„æ™ºèƒ½é‡ä»·ä¿¡å·æ£€æµ‹ä¸æ¨é€ç³»ç»Ÿã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

- ğŸ“¥ **å¤šæºæ•°æ®é‡‡é›†**: DexScreenerï¼ˆæ–°Memeï¼‰ã€Bybitï¼ˆçƒ­é—¨å±±å¯¨ï¼‰ã€Binanceï¼ˆä¸»æµï¼‰ã€Heliusï¼ˆé“¾ä¸Šï¼‰
- ğŸ”„ **åŒæ¨¡å¼æ”¯æŒ**: Kçº¿ä¼˜å…ˆæ¨¡å¼ï¼ˆâ‰¤8så»¶è¿Ÿï¼‰å’Œé“¾ä¸Šä¼˜å…ˆæ¨¡å¼ï¼ˆâ‰¤3så»¶è¿Ÿï¼‰
- ğŸ§  **æ™ºèƒ½ç­–ç•¥å¼•æ“**: å†…ç½®ç»å…¸ç­–ç•¥ + YAMLè‡ªå®šä¹‰ç­–ç•¥
- âš™ï¸ **åŠ¨æ€é…ç½®**: ç”¨æˆ·å¯é€šè¿‡å‘½ä»¤åˆ‡æ¢æ•°æ®æºã€è°ƒæ•´å‚æ•°
- ğŸ“Š **å®æ—¶æ¨é€**: Telegramæ¶ˆæ¯ + æ·±åº¦å›¾å±•ç¤º

## ğŸ—ï¸ æ¶æ„è®¾è®¡

è¯¦è§ [docs/ARCHITECTURE.md](docs/ARCHITECTURE.md)

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Python 3.11+
- Docker & Docker Composeï¼ˆæ¨èï¼‰
- Telegram Bot Token

### 1. å…‹éš†ä»“åº“

```bash
git clone <your-repo-url>
cd telegram-signal-bot
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

```bash
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥ BOT_TOKEN
```

### 3. Docker éƒ¨ç½²ï¼ˆæ¨èï¼‰

```bash
# å¯åŠ¨æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f signal-bot

# åœæ­¢æœåŠ¡
docker-compose down
```

### 4. æœ¬åœ°è¿è¡Œ

```bash
# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# è¿è¡Œ
python main.py
```

## ğŸ“– ä½¿ç”¨æŒ‡å—

### Bot å‘½ä»¤

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `/start` | å¼€å§‹ä½¿ç”¨ï¼Œæ˜¾ç¤ºæ¬¢è¿ä¿¡æ¯ |
| `/set_datasource <kline\|onchain>` | åˆ‡æ¢æ•°æ®æºæ¨¡å¼ |
| `/list_strategies` | æŸ¥çœ‹æ‰€æœ‰å¯ç”¨ç­–ç•¥ |
| `/set_strategy <name>` | å¯ç”¨/ç¦ç”¨ç­–ç•¥ |
| `/set_volume_mult <value>` | è®¾ç½®æˆäº¤é‡å€æ•°é˜ˆå€¼ |
| `/status` | æŸ¥çœ‹å½“å‰é…ç½® |
| `/help` | æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ |

### ç¤ºä¾‹

```
# åˆ‡æ¢åˆ°Kçº¿æ¨¡å¼
/set_datasource kline

# è®¾ç½®æˆäº¤é‡å€æ•°ä¸º2.0
/set_volume_mult 2.0

# å¯ç”¨"é‡å¢ä»·å‡"ç­–ç•¥
/set_strategy é‡å¢ä»·å‡

# æŸ¥çœ‹çŠ¶æ€
/status
```

### ç­–ç•¥é…ç½®

ç­–ç•¥å®šä¹‰åœ¨ `src/strategies/schema.yaml`ï¼Œæ”¯æŒï¼š

- **å†…ç½®ç­–ç•¥**: é‡å¢ä»·å‡ã€ç¼©é‡æ–°é«˜ã€å¤©é‡è§é¡¶
- **YAMLè‡ªå®šä¹‰ç­–ç•¥**: é€šè¿‡æ¡ä»¶è¡¨è¾¾å¼å®šä¹‰

ç¤ºä¾‹YAMLç­–ç•¥ï¼š

```yaml
- name: "é‡å¢ä»·å‡"
  mode: "kline"
  conditions:
    - field: "volume"
      operator: ">"
      value: "{{ volume_mult }} * avg_volume_24h"
    - field: "close"
      operator: ">"
      value: "open"
```

## ğŸ”§ å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„

```
telegram-signal-bot/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ core/           # æ ¸å¿ƒæ¥å£å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ datasource.py    # æ•°æ®æºé€‚é…å™¨æ¥å£
â”‚   â”‚   â””â”€â”€ config.py        # é…ç½®ç®¡ç†å™¨
â”‚   â”œâ”€â”€ adapters/       # æ•°æ®æºé€‚é…å™¨å®ç°
â”‚   â”‚   â”œâ”€â”€ dexscreener.py
â”‚   â”‚   â”œâ”€â”€ bybit.py
â”‚   â”‚   â”œâ”€â”€ binance.py
â”‚   â”‚   â””â”€â”€ helius.py
â”‚   â”œâ”€â”€ strategies/     # ç­–ç•¥å¼•æ“
â”‚   â”‚   â”œâ”€â”€ engine.py
â”‚   â”‚   â””â”€â”€ schema.yaml
â”‚   â””â”€â”€ bot/            # Botç›¸å…³
â”‚       â”œâ”€â”€ commands.py
â”‚       â”œâ”€â”€ listener.py
â”‚       â””â”€â”€ notifier.py
â”œâ”€â”€ docs/               # æ–‡æ¡£
â”œâ”€â”€ data/               # æ•°æ®ç›®å½•ï¼ˆSQLiteç­‰ï¼‰
â”œâ”€â”€ config/             # é…ç½®æ–‡ä»¶
â”œâ”€â”€ logs/               # æ—¥å¿—ç›®å½•
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ Dockerfile
â””â”€â”€ main.py
```

### æ·»åŠ æ–°æ•°æ®æº

1. å®ç° `DataSourceAdapter` æ¥å£
2. åœ¨ `MessageListener` ä¸­æ³¨å†Œé€‚é…å™¨
3. æ›´æ–°é…ç½®

### æ·»åŠ æ–°ç­–ç•¥

1. åœ¨ `BuiltinStrategies` ä¸­æ·»åŠ æ–¹æ³•
2. æˆ–åœ¨ `schema.yaml` ä¸­å®šä¹‰YAMLç­–ç•¥

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | ç›®æ ‡å€¼ |
|------|--------|
| Kçº¿æ¨¡å¼å»¶è¿Ÿ | â‰¤ 8s |
| é“¾ä¸Šæ¨¡å¼å»¶è¿Ÿ | â‰¤ 3s |
| ç­–ç•¥è®¡ç®—æ—¶é—´ | < 100ms |
| å¹¶å‘å¤„ç†èƒ½åŠ› | 100+ tokens/min |

## ğŸ› æ•…éšœæ’æŸ¥

### Botæ— æ³•å¯åŠ¨

- æ£€æŸ¥ `BOT_TOKEN` ç¯å¢ƒå˜é‡æ˜¯å¦æ­£ç¡®
- æŸ¥çœ‹æ—¥å¿—: `docker-compose logs signal-bot`

### æ•°æ®è·å–å¤±è´¥

- æ£€æŸ¥ç½‘ç»œè¿æ¥
- ç¡®è®¤APIå¯†é’¥é…ç½®ï¼ˆå¦‚éœ€è¦ï¼‰
- æŸ¥çœ‹é€‚é…å™¨æ—¥å¿—

## ğŸ“ License

MIT

